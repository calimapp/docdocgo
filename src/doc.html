<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>DocDocGO</title>
        <style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
}
header {
    top: 0; position: sticky; height: 7vh; padding: 0 20px;
    background-color: #007d9c; color: white;
    display: flex; align-items: center;
}
nav {
    top: 7vh; position: sticky; overflow-y: auto;
    height: calc(100vh - 7vh);
    display: flex; flex-direction: column; row-gap: 1rem;
    padding: 20px;
    box-sizing: border-box;
}
.nav-title{
    color: black;
    text-decoration: none;
    padding: auto;
}
main {
    display: flex; flex-direction: column;
    padding: 20px;
    row-gap: 10px;
}
h1 {
    font-size: 1.25rem;
}
.section-title {
    font-size: 1.25rem;
    font-weight: bold;
}
.section-subtitle {
    font-size: 1rem;
    font-weight: bold;
    background-color: #bfeaf4;
    padding: 5px;
}
summary:hover {
    cursor: pointer;
}
.package-section {
    flex-direction: column;
    display: flex;
    row-gap: 10px;
    margin-bottom: 50px;
}
.package-name {
    color: #375eab;
    font-size: 1.75rem;
    font-weight: bold;
}
.package-ref {
    padding-left: 20px;
    font-family: Menlo, monospace;
}
.package-subsection {
    background: #e0ebf5;
    font-size: 1.25rem;
    color: #375eab;
    padding: 0.5rem;
}
.package-subsection:hover{
    cursor: pointer;
}
.func-name, .type-name {
    color:#375eab;
    font-weight: bold;
}
.line {
  width: 100%;
  height: 0;
  border-bottom: 1px solid black;
  margin: 3px 0 6px 0;
  display:inline-block;
}
.code-block {
    background-color: black;
    color: rgb(236, 236, 236);
    padding: 5px 10px;
    border-radius: 5px;
}
.code-comment {
    color: #6a9956;
}
.code-keyword {
    color: #569cd6
}
.code-type {
    color: #4dc9b0;
}
.code-var {
    color: #9cdcfd;
}
.code-func {
    color: #dbdba9;
}
.main-color {
    color: #007d9c
}
        </style>
    </head>
    <body>
        <header>
            <h1>{{.Name}}</h1>
        </header>
        <div style="display: grid; grid-template-columns: 20% 80%; justify-items: stretch;">
            <nav>
                <a class="nav-title" href="#readme">README</a>
                <a class="nav-title" href="#documentation">Documentation</a>
                <a class="nav-title" href="#source-files">Source Files</a>
                <a class="nav-title" href="#packages">Packages</a>
            </nav>
            <main>
                <section id="readme">
                    <details>
                        <summary>
                            <span class="section-title">README</span>
                            <div class="line"></div>
                        </summary>
                        <div>{{.Readme}}</div>
                    </details>
                </section>
                <section id="documentation">
                    <details>
                        <summary>
                            <span class="section-title">Documentation</span>
                            <div class="line"></div>
                        </summary>
                        <h3 class="section-subtitle">Overview</h3>
                        {{if .Documentation.Overview}}
                            <p>{{.Documentation.Overview}}</p>
                        {{else}}
                            <p>This section is empty.</p>
                        {{end}}

                        <h3 class="section-subtitle">Constants</h3>
                        {{if len .Documentation.Constants}}
                        {{range .Documentation.Constants}}
                        <p class="code-block">
                            <code>
                                {{if .Doc}}<span class="code-comment">// {{.Doc}}</span><br>{{end}}
                                <span class="code-keyword">const</span>
                                <span class="code-var">{{.Name}} </span>
                                <span class="code-type">{{.Type}}</span> = {{.Value}}
                            </code>
                        </p>
                        {{end}}
                        {{else}}
                            <p>This section is empty.</p>
                        {{end}}

                        <!-- Variables -->
                        <h3 class="section-subtitle">Variables</h3>
                        {{if len .Documentation.Variables}}
                        {{range .Documentation.Variables}}
                        <p class="code-block">
                            <code>
                                {{if .Doc}}<span class="code-comment">// {{.Doc}}</span><br>{{end}}
                                <span class="code-keyword">var</span>
                                <span class="code-var">{{.Name}}</span>
                                <span class="code-type">{{.Type}}</span> = {{.Value}}
                            </code>
                        </p>
                        {{end}}
                        {{else}}
                            <p>This section is empty.</p>
                        {{end}}

                        <!-- Functions -->
                        <h3 class="section-subtitle">Functions</h3>
                        {{if len .Documentation.Functions}}
                            {{range .Documentation.Functions}}
                            <span><b>func</b> <b class="main-color">{{.Name}}</b></span>
                            <p class="code-block">
                                <code>
                                    {{if .Doc}}<span class="code-comment">// {{.Doc}}</span><br>{{end}}
                                    <span class="code-keyword">func</span>
                                    <span class="code-func">{{.Name}}</span>(
                                    {{range .Arguments}}
                                    <span class="code-var">{{.Name}}</span>
                                    <span class="code-type">{{.Type}}</span>
                                    {{end}})
                                    {{range .Results}}
                                    {{if .Name}}<span class="code-type">{{.Name}}</span>{{end}}
                                    <span class="code-var">{{.Type}}</span>
                                    {{end}}
                                </code>
                            </p>
                            {{end}}
                        {{else}}
                            <p>This section is empty.</p>
                        {{end}}

                        <!-- Types -->
                        <h3 class="section-subtitle">Types</h3>
                        {{if len .Documentation.Types}}
                            {{range .Documentation.Types}}
                            <span>type {{.Name}}</span>
                            <p class="code-block">
                                <code>
                                    {{if .Doc}}<span class="code-comment">// {{.Doc}}</span><br>{{end}}
                                    <span class="code-keyword">type</span>
                                    <span class="code-type">{{.Name}}</span>
                                    <span class="code-keyword">{{.Type}}</span>
                                    {{if .Fields }}{<br>
                                        {{range .Fields}}
                                        &nbsp;&nbsp;
                                        <span class="code-var">{{.Name}}</span>
                                        <span class="code-type">{{.Type}}</span>
                                        <br>
                                        {{end}}
                                    }{{end}}
                                </code>
                            </p>
                            {{end}}
                        {{else}}
                            <p>This section is empty.</p>
                        {{end}}
                    </details>
                </section>
                <section id="source-files">
                    <details>
                        <summary>
                            <span class="section-title">Source files</span>
                            <div class="line"></div>
                        </summary>
                        {{range .SourceFiles}}
                        <div >{{.}}</div>
                        {{end}}
                    </details>
                </section>
                <section id="packages">
                    <details>
                        <summary>
                            <span class="section-title">Packages</span>
                            <div class="line"></div>
                        </summary>
                        <span>packages...</span>
                    </details>
                </section>
            </main>
        </div>

        <!-- {{range .Packages}}
        <div class="package-section">
            <span class="package-name">Package {{.Name}}</span>
            <span class="package-ref">import "{{.Ref}}"</span>

            <details>
                <summary class="package-subsection">Functions</summary>
                {{range .Functions}}
                <div class="func">
                    <span class="func-name">func {{.Name}}</span>
                    <span class="func-code"></span>
                </div>
                {{end}}
            </details>

            <details>
                <summary class="package-subsection">Types</summary>
                {{range .Types}}
                <div class="type">
                    <span class="type-name">type {{.Name}}</span>
                    <span class="func-code"></span>
                <div>
                {{end}}
            </details>
        </div>
        {{end}} -->
    </body>
</html>